{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Taha/Desktop/MERN-todo-case-project/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/Taha/Desktop/MERN-todo-case-project/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/Taha/Desktop/MERN-todo-case-project/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _taggedTemplateLiteral from\"C:/Users/Taha/Desktop/MERN-todo-case-project/frontend/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject;import React,{useState}from\"react\";import styled from\"styled-components\";import checkedIcon from\"../icons/checked.svg\";import uncheckedIcon from\"../icons/unchecked.svg\";import{useUpdateTaskStatusMutation}from\"../api/todosApi\";import{useDispatch}from\"react-redux\";import{updateTask}from\"../redux/slices/todoSlice\";import{jsx as _jsx}from\"react/jsx-runtime\";var Icon=styled.img(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  user-select: none;\\n  cursor: pointer;\\n  text-decoration: \",\";\\n\"])),function(_ref){var completed=_ref.completed;return completed?\"line-through\":\"none\";});var Check=function Check(_ref2){var completed=_ref2.completed,todo=_ref2.todo,taskId=_ref2.taskId;var _useState=useState(completed),_useState2=_slicedToArray(_useState,2),isChecked=_useState2[0],setIsChecked=_useState2[1];var _useUpdateTaskStatusM=useUpdateTaskStatusMutation(),_useUpdateTaskStatusM2=_slicedToArray(_useUpdateTaskStatusM,1),updateTaskStatus=_useUpdateTaskStatusM2[0];var dispatch=useDispatch();var handleCheck=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var newStatus;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;newStatus=!isChecked;_context.next=4;return updateTaskStatus({todo:todo,taskId:taskId,completed:newStatus});case 4:setIsChecked(newStatus);dispatch(updateTask({todoId:todo,taskId:taskId,completed:newStatus}));_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 11:case\"end\":return _context.stop();}},_callee,null,[[0,8]]);}));return function handleCheck(){return _ref3.apply(this,arguments);};}();return/*#__PURE__*/_jsx(Icon,{src:isChecked?checkedIcon:uncheckedIcon,alt:isChecked?\"checked\":\"unchecked\",completed:isChecked,onClick:handleCheck});};export default Check;","map":{"version":3,"names":["React","useState","styled","checkedIcon","uncheckedIcon","useUpdateTaskStatusMutation","useDispatch","updateTask","jsx","_jsx","Icon","img","_templateObject","_taggedTemplateLiteral","_ref","completed","Check","_ref2","todo","taskId","_useState","_useState2","_slicedToArray","isChecked","setIsChecked","_useUpdateTaskStatusM","_useUpdateTaskStatusM2","updateTaskStatus","dispatch","handleCheck","_ref3","_asyncToGenerator","_regeneratorRuntime","mark","_callee","newStatus","wrap","_callee$","_context","prev","next","todoId","t0","console","log","stop","apply","arguments","src","alt","onClick"],"sources":["C:/Users/Taha/Desktop/MERN-todo-case-project/frontend/src/components/Check.tsx"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport checkedIcon from \"../icons/checked.svg\";\r\nimport uncheckedIcon from \"../icons/unchecked.svg\";\r\nimport { useUpdateTaskStatusMutation } from \"../api/todosApi\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { updateTask } from \"../redux/slices/todoSlice\";\r\n\r\n\r\nconst Icon = styled.img<{ completed: boolean }>`\r\n  user-select: none;\r\n  cursor: pointer;\r\n  text-decoration: ${({ completed }) => (completed ? \"line-through\" : \"none\")};\r\n`;\r\n\r\ninterface CheckProps {\r\n  completed: boolean;\r\n  todo: string;\r\n  taskId: string;\r\n}\r\n\r\nconst Check: React.FC<CheckProps> = ({ completed, todo, taskId }) => {\r\n\r\n\r\n  const [isChecked, setIsChecked] = useState(completed);\r\n  const [updateTaskStatus] = useUpdateTaskStatusMutation();\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const handleCheck = async () => {\r\n    try {\r\n\r\n      const newStatus = !isChecked;\r\n\r\n      await updateTaskStatus({ todo, taskId, completed: newStatus });\r\n\r\n      setIsChecked(newStatus);\r\n\r\n      dispatch(updateTask({ todoId:todo, taskId, completed: newStatus }));\r\n\r\n\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Icon\r\n      src={isChecked ? checkedIcon : uncheckedIcon}\r\n      alt={isChecked ? \"checked\" : \"unchecked\"}\r\n      completed={isChecked}\r\n      onClick={handleCheck}\r\n    />\r\n  );\r\n};\r\n\r\nexport default Check;\r\n"],"mappings":"gmBAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,MAAO,CAAAC,MAAM,KAAM,mBAAmB,CACtC,MAAO,CAAAC,WAAW,KAAM,sBAAsB,CAC9C,MAAO,CAAAC,aAAa,KAAM,wBAAwB,CAClD,OAASC,2BAA2B,KAAQ,iBAAiB,CAC7D,OAASC,WAAW,KAAQ,aAAa,CACzC,OAASC,UAAU,KAAQ,2BAA2B,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAGvD,GAAM,CAAAC,IAAI,CAAGR,MAAM,CAACS,GAAG,CAAAC,eAAA,GAAAA,eAAA,CAAAC,sBAAA,6EAGF,SAAAC,IAAA,KAAG,CAAAC,SAAS,CAAAD,IAAA,CAATC,SAAS,OAAQ,CAAAA,SAAS,CAAG,cAAc,CAAG,MAAM,EAAC,CAC5E,CAQD,GAAM,CAAAC,KAA2B,CAAG,QAA9B,CAAAA,KAA2BA,CAAAC,KAAA,CAAoC,IAA9B,CAAAF,SAAS,CAAAE,KAAA,CAATF,SAAS,CAAEG,IAAI,CAAAD,KAAA,CAAJC,IAAI,CAAEC,MAAM,CAAAF,KAAA,CAANE,MAAM,CAG5D,IAAAC,SAAA,CAAkCnB,QAAQ,CAACc,SAAS,CAAC,CAAAM,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAA9CG,SAAS,CAAAF,UAAA,IAAEG,YAAY,CAAAH,UAAA,IAC9B,IAAAI,qBAAA,CAA2BpB,2BAA2B,CAAC,CAAC,CAAAqB,sBAAA,CAAAJ,cAAA,CAAAG,qBAAA,IAAjDE,gBAAgB,CAAAD,sBAAA,IAEvB,GAAM,CAAAE,QAAQ,CAAGtB,WAAW,CAAC,CAAC,CAE9B,GAAM,CAAAuB,WAAW,6BAAAC,KAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAC,QAAA,MAAAC,SAAA,QAAAH,mBAAA,GAAAI,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAAAF,QAAA,CAAAC,IAAA,GAGVJ,SAAS,CAAG,CAACZ,SAAS,CAAAe,QAAA,CAAAE,IAAA,SAEtB,CAAAb,gBAAgB,CAAC,CAAET,IAAI,CAAJA,IAAI,CAAEC,MAAM,CAANA,MAAM,CAAEJ,SAAS,CAAEoB,SAAU,CAAC,CAAC,QAE9DX,YAAY,CAACW,SAAS,CAAC,CAEvBP,QAAQ,CAACrB,UAAU,CAAC,CAAEkC,MAAM,CAACvB,IAAI,CAAEC,MAAM,CAANA,MAAM,CAAEJ,SAAS,CAAEoB,SAAU,CAAC,CAAC,CAAC,CAACG,QAAA,CAAAE,IAAA,iBAAAF,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAI,EAAA,CAAAJ,QAAA,aAIpEK,OAAO,CAACC,GAAG,CAAAN,QAAA,CAAAI,EAAM,CAAC,CAAC,yBAAAJ,QAAA,CAAAO,IAAA,MAAAX,OAAA,gBAEtB,kBAfK,CAAAL,WAAWA,CAAA,SAAAC,KAAA,CAAAgB,KAAA,MAAAC,SAAA,OAehB,CAED,mBACEtC,IAAA,CAACC,IAAI,EACHsC,GAAG,CAAEzB,SAAS,CAAGpB,WAAW,CAAGC,aAAc,CAC7C6C,GAAG,CAAE1B,SAAS,CAAG,SAAS,CAAG,WAAY,CACzCR,SAAS,CAAEQ,SAAU,CACrB2B,OAAO,CAAErB,WAAY,CACtB,CAAC,CAEN,CAAC,CAED,cAAe,CAAAb,KAAK"},"metadata":{},"sourceType":"module","externalDependencies":[]}