{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Taha/Desktop/MERN-todo-case-project/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/Taha/Desktop/MERN-todo-case-project/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _defineProperty from\"C:/Users/Taha/Desktop/MERN-todo-case-project/frontend/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"C:/Users/Taha/Desktop/MERN-todo-case-project/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/Taha/Desktop/MERN-todo-case-project/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from\"react\";import\"../index.css\";import{useState,useEffect}from'react';import{useNavigate}from'react-router-dom';import SyncLoader from\"react-spinners/SyncLoader\";import instance from\"../api/axiosInstance\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Login=function Login(){var navigate=useNavigate();var _useState=useState({email:'',password:''}),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setUser=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),error=_useState4[0],setError=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),loading=_useState6[0],setLoading=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),success=_useState8[0],setSuccess=_useState8[1];var handleChange=function handleChange(e){setUser(_objectSpread(_objectSpread({},user),{},_defineProperty({},e.target.name,e.target.value)));};var handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:if(!(!user.email||!user.password)){_context.next=2;break;}return _context.abrupt(\"return\");case 2:_context.prev=2;setLoading(true);_context.next=6;return instance.post(\"/login\",user).then(function(res){setLoading(false);if(res.data){console.log(res.data);setSuccess(true);var token=res.data.token;localStorage.setItem(\"token\",token);}});case 6:_context.next=13;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](2);console.log(_context.t0);setLoading(false);setError(true);case 13:case\"end\":return _context.stop();}},_callee,null,[[2,8]]);}));return function handleSubmit(_x){return _ref.apply(this,arguments);};}();useEffect(function(){if(success||localStorage.getItem('token')){navigate('/dashboard');}},[success,navigate]);return/*#__PURE__*/_jsxs(_Fragment,{children:[loading&&/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center items-center h-screen\",children:/*#__PURE__*/_jsx(SyncLoader,{color:\"#3B82F6\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen flex items-center justify-center bg-gray-100\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-md w-full px-6 py-8 bg-white shadow-lg rounded-lg\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-semibold text-center mb-6\",children:\"Login\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-gray-700 text-sm font-bold mb-2\",htmlFor:\"email\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{className:\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:border-blue-500\",type:\"email\",id:\"email\",placeholder:\"Enter your email\",onChange:handleChange,value:user.email,name:\"email\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-gray-700 text-sm font-bold mb-2\",htmlFor:\"password\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{className:\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:border-blue-500\",type:\"password\",id:\"password\",placeholder:\"Enter your password\",onChange:handleChange,value:user.password,name:\"password\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-between\",children:/*#__PURE__*/_jsx(\"input\",{type:\"button\",className:\"bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline\",value:\"Login\",onClick:handleSubmit})})]})})]});};export default Login;","map":{"version":3,"names":["React","useState","useEffect","useNavigate","SyncLoader","instance","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Login","navigate","_useState","email","password","_useState2","_slicedToArray","user","setUser","_useState3","_useState4","error","setError","_useState5","_useState6","loading","setLoading","_useState7","_useState8","success","setSuccess","handleChange","e","_objectSpread","_defineProperty","target","name","value","handleSubmit","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","abrupt","post","then","res","data","console","log","token","localStorage","setItem","t0","stop","_x","apply","arguments","getItem","children","className","color","htmlFor","type","id","placeholder","onChange","onClick"],"sources":["C:/Users/Taha/Desktop/MERN-todo-case-project/frontend/src/pages/Login.tsx"],"sourcesContent":["import React from \"react\";\r\nimport \"../index.css\"\r\nimport {useState, useEffect} from 'react';\r\nimport {useNavigate} from 'react-router-dom';\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport axios from \"axios\";\r\nimport { InternalAxiosRequestConfig } from \"axios\";\r\nimport SyncLoader from \"react-spinners/SyncLoader\";\r\nimport instance from \"../api/axiosInstance\";\r\n\r\n\r\n\r\nconst Login = () => {\r\n  const navigate = useNavigate();\r\n  const [user, setUser] = useState({\r\n    email: '',\r\n    password: ''\r\n  });\r\n\r\nconst [error, setError] = useState(false);\r\nconst [loading, setLoading] = useState(false);\r\nconst [success, setSuccess] = useState(false);\r\n\r\n\r\n\r\n\r\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    setUser({\r\n      ...user,\r\n      [e.target.name]: e.target.value\r\n    });\r\n  };\r\n\r\n  const handleSubmit = async(e: any) => {\r\n   \r\n    if (!user.email || !user.password) {\r\n      return;\r\n    }\r\n    \r\n    try {\r\n\r\n      setLoading(true);\r\n     \r\n      await instance.post(\"/login\",(user)\r\n      ).then((res) => {\r\n     \r\n        setLoading(false);   \r\n       if (res.data) {\r\n        console.log(res.data)\r\n        setSuccess(true);\r\n        const token = res.data.token;\r\n         localStorage.setItem(\"token\",token)\r\n      \r\n      \r\n       }\r\n      } );\r\n\r\n        \r\n\r\n    } catch (err) {\r\n      console.log(err);\r\n      setLoading(false);\r\n      setError(true);\r\n\r\n    }\r\n\r\n     \r\n  };\r\n\r\n\r\n  useEffect(() => {\r\n\r\n    if (success || localStorage.getItem('token')) {\r\n      navigate('/dashboard');\r\n    }\r\n\r\n  }\r\n  ,[success,navigate]);\r\n\r\n  \r\n  return (\r\n    <>\r\n    \r\n    {loading && (\r\n      <div className=\"flex justify-center items-center h-screen\">\r\n        <SyncLoader color=\"#3B82F6\" />\r\n      </div>\r\n    )\r\n    }\r\n   \r\n    <div className=\"min-h-screen flex items-center justify-center bg-gray-100\">\r\n      <div className=\"max-w-md w-full px-6 py-8 bg-white shadow-lg rounded-lg\">\r\n        <h1 className=\"text-3xl font-semibold text-center mb-6\">Login</h1>\r\n    \r\n          <div className=\"mb-4\">\r\n            <label className=\"block text-gray-700 text-sm font-bold mb-2\" htmlFor=\"email\">\r\n              Email\r\n            </label>\r\n            <input\r\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:border-blue-500\"\r\n              type=\"email\"\r\n              id=\"email\"\r\n              placeholder=\"Enter your email\" onChange={handleChange}\r\n              value={user.email}\r\n              name = \"email\"\r\n            />\r\n          </div>\r\n          <div className=\"mb-6\">\r\n            <label className=\"block text-gray-700 text-sm font-bold mb-2\" htmlFor=\"password\">\r\n              Password\r\n            </label>\r\n            <input\r\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:border-blue-500\"\r\n              type=\"password\"\r\n              id=\"password\"\r\n              placeholder=\"Enter your password\" onChange={handleChange}\r\n              value={user.password}\r\n              name = \"password\"\r\n            />\r\n          </div>\r\n          <div className=\"flex items-center justify-between\">\r\n            \r\n            <input type = \"button\" className = \"bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline\"\r\n              value = \"Login\" onClick={handleSubmit}\r\n            />\r\n\r\n\r\n            \r\n\r\n        \r\n           \r\n          </div>\r\n       \r\n      </div>\r\n    </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}