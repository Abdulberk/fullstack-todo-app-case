{"ast":null,"code":"import{createSlice}from\"@reduxjs/toolkit\";var initalState={todos:[]};var todosSlice=createSlice({name:'todos',initialState:initalState,reducers:{setTodos:function setTodos(state,action){state.todos=action.payload;},addTodo:function addTodo(state,action){state.todos.push(action.payload);},deleteTodo:function deleteTodo(state,action){state.todos=state.todos.filter(function(todo){return todo._id!==action.payload;});},updateTask:function updateTask(state,action){var _action$payload=action.payload,todoId=_action$payload.todoId,taskId=_action$payload.taskId,completed=_action$payload.completed;var getTodo=state.todos.find(function(todo){return todo._id===todoId;});if(getTodo){var getTask=getTodo.tasks.find(function(task){return task._id===taskId;});if(getTask){getTask.completed=completed;}}},addTask:function addTask(state,action){var _action$payload2=action.payload,todoId=_action$payload2.todoId,taskId=_action$payload2.taskId,text=_action$payload2.text;var getTodo=state.todos.find(function(todo){return todo._id===todoId;});if(getTodo){getTodo.tasks.push({_id:taskId,text:text,completed:false,todo:todoId,createdAt:new Date().toISOString()});}},deleteTask:function deleteTask(state,action){var _action$payload3=action.payload,todoId=_action$payload3.todoId,taskId=_action$payload3.taskId;var getTodo=state.todos.find(function(todo){return todo._id===todoId;});if(getTodo){getTodo.tasks=getTodo.tasks.filter(function(task){return task._id!==taskId;});}},updateTodoTitle:function updateTodoTitle(state,action){var _action$payload4=action.payload,todoId=_action$payload4.todoId,newTitle=_action$payload4.newTitle;var getTodo=state.todos.find(function(todo){return todo._id===todoId;});if(getTodo){getTodo.title=newTitle;}}}});var _todosSlice$actions=todosSlice.actions,setTodos=_todosSlice$actions.setTodos,addTodo=_todosSlice$actions.addTodo,deleteTodo=_todosSlice$actions.deleteTodo,updateTask=_todosSlice$actions.updateTask,addTask=_todosSlice$actions.addTask,deleteTask=_todosSlice$actions.deleteTask,updateTodoTitle=_todosSlice$actions.updateTodoTitle;export{setTodos,addTodo,deleteTodo,updateTask,addTask,deleteTask,updateTodoTitle};export default todosSlice.reducer;","map":{"version":3,"names":["createSlice","initalState","todos","todosSlice","name","initialState","reducers","setTodos","state","action","payload","addTodo","push","deleteTodo","filter","todo","_id","updateTask","_action$payload","todoId","taskId","completed","getTodo","find","getTask","tasks","task","addTask","_action$payload2","text","createdAt","Date","toISOString","deleteTask","_action$payload3","updateTodoTitle","_action$payload4","newTitle","title","_todosSlice$actions","actions","reducer"],"sources":["C:/Users/Taha/Desktop/MERN-todo-case-project/frontend/src/redux/slices/todoSlice.ts"],"sourcesContent":["import { createSlice } from \"@reduxjs/toolkit\";\r\nimport { Todo } from \"../../types/Todo\";\r\nimport { PayloadAction } from \"@reduxjs/toolkit\";\r\nimport { Task } from \"../../types/Task\";\r\n\r\n\r\nconst initalState = {\r\n    todos: [],\r\n\r\n} as { todos: Todo[] }\r\n\r\n\r\nconst todosSlice = createSlice({\r\n    name: 'todos',\r\n    initialState: initalState,\r\n    reducers: {\r\n        setTodos: (state, action) => { \r\n            state.todos = action.payload\r\n        },\r\n        addTodo: (state, action : PayloadAction<Todo>) => {\r\n            state.todos.push(action.payload) \r\n\r\n        }\r\n        ,\r\n        deleteTodo: (state, action) => {\r\n            state.todos = state.todos.filter((todo:Todo) => todo._id !== action.payload)\r\n        },\r\n        updateTask: (state,action:PayloadAction<{todoId:string, taskId:string, completed:boolean}>) => {\r\n            const {todoId, taskId, completed} = action.payload\r\n            const getTodo = state.todos.find((todo:Todo) => todo._id === todoId) \r\n            if (getTodo) {\r\n                const getTask = getTodo.tasks.find((task:Task) => task._id === taskId) \r\n\r\n                if (getTask) {\r\n                    getTask.completed = completed;\r\n                }\r\n            }\r\n\r\n        },\r\n        addTask: (state, action : PayloadAction<{todoId:string, taskId:string, text:string}>) => {\r\n                const {todoId, taskId, text} = action.payload\r\n                const getTodo = state.todos.find((todo: Todo) => todo._id === todoId)\r\n\r\n                if (getTodo) {\r\n                    getTodo.tasks.push({\r\n                        _id: taskId,\r\n                        text,\r\n                        completed: false,\r\n                        todo: todoId,\r\n                        createdAt: new Date().toISOString()\r\n                        \r\n                        \r\n                    }\r\n                    )\r\n\r\n                }\r\n                \r\n        },\r\n        deleteTask: (state, action:PayloadAction<{todoId:string, taskId: string}>) => {\r\n\r\n            const {todoId, taskId} = action.payload\r\n\r\n            const getTodo = state.todos.find((todo:Todo) => todo._id === todoId)\r\n\r\n            if (getTodo) {\r\n                getTodo.tasks = getTodo.tasks.filter((task:Task) => task._id !== taskId)\r\n                \r\n            }\r\n        },\r\n            updateTodoTitle: (state, action:PayloadAction<{todoId:string, newTitle:string}>) => {\r\n                const {todoId, newTitle} = action.payload\r\n                const getTodo = state.todos.find((todo:Todo) => todo._id === todoId)\r\n\r\n                if (getTodo) {\r\n                    getTodo.title = newTitle\r\n                }\r\n\r\n\r\n        }\r\n\r\n    }\r\n\r\n})\r\n\r\nexport const { setTodos, addTodo, deleteTodo, updateTask, addTask, deleteTask, updateTodoTitle } = todosSlice.actions\r\n\r\nexport default todosSlice.reducer"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}