{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Taha/Desktop/MERN-todo-case-project/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/Taha/Desktop/MERN-todo-case-project/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/Taha/Desktop/MERN-todo-case-project/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _taggedTemplateLiteral from\"C:/Users/Taha/Desktop/MERN-todo-case-project/frontend/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject,_templateObject2,_templateObject3,_templateObject4;import styled from'styled-components';import{Link}from'react-router-dom';import{useState,useEffect}from'react';import instance from'../api/axiosInstance';import logo from'../icons/logo.png';import AddTodo from'./AddTodo';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Header=styled.header(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  display: flex;\\n  justify-content: flex-end;\\n  align-items: center;\\n  padding: 15px 10%;\\n  background-color: white;\\n  border-bottom: 1px solid #e5e5e5;\\n    box-shadow: 0px 0px 5px rgba(0, 0, 0, 0.1);\\n\"])));var Logo=styled.div(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  margin-right: auto;\\n  img {\\n    width: 154px;\\n    height: 36px;\\n  }\\n\"])));var NavLinks=styled.ul(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n  list-style: none;\\n  display: flex;\\n\"])));var NavLink=styled.li(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"\\n  padding: 0px 20px;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n\\n \\n  a {\\n    font-family: 'Montserrat', sans-serif;\\n    font-weight: 500;\\n\\n    text-decoration: none;\\n    transition: all 0.3s ease 0s;\\n\\n    &:hover {\\n      color: #0088a9;\\n    }\\n  }\\n\"])));var Navbar=function Navbar(){var token=localStorage.getItem('token');var logout=function logout(){localStorage.removeItem('token');window.location.reload();};var _useState=useState(null),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setUser=_useState2[1];useEffect(function(){var fetchUser=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var res;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return instance.get('/profile');case 3:res=_context.sent;setUser(res.data.user);console.log(res.data.user);_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 11:case\"end\":return _context.stop();}},_callee,null,[[0,8]]);}));return function fetchUser(){return _ref.apply(this,arguments);};}();fetchUser();console.log(user);},[]);return/*#__PURE__*/_jsxs(Header,{children:[/*#__PURE__*/_jsx(Logo,{children:/*#__PURE__*/_jsx(\"img\",{src:logo,alt:\"logo\"})}),/*#__PURE__*/_jsx(NavLinks,{children:user&&user.username?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(NavLink,{children:/*#__PURE__*/_jsx(AddTodo,{})}),/*#__PURE__*/_jsx(NavLink,{children:/*#__PURE__*/_jsx(Link,{to:\"/profile\",children:user.username})}),/*#__PURE__*/_jsx(NavLink,{children:/*#__PURE__*/_jsx(Link,{to:\"/logout\",onClick:logout,children:\"\\xC7\\u0131k\\u0131\\u015F\"})})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(NavLink,{children:/*#__PURE__*/_jsx(Link,{to:\"/login\",children:\"Giri\\u015F\"})}),/*#__PURE__*/_jsx(NavLink,{children:/*#__PURE__*/_jsx(Link,{to:\"/register\",children:\"Kay\\u0131t\"})}),/*#__PURE__*/_jsx(NavLink,{children:/*#__PURE__*/_jsx(Link,{to:\"/profile\",children:\"Profil\"})})]})})]});};export default Navbar;","map":{"version":3,"names":["styled","Link","useState","useEffect","instance","logo","AddTodo","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","Header","header","_templateObject","_taggedTemplateLiteral","Logo","div","_templateObject2","NavLinks","ul","_templateObject3","NavLink","li","_templateObject4","Navbar","token","localStorage","getItem","logout","removeItem","window","location","reload","_useState","_useState2","_slicedToArray","user","setUser","fetchUser","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","res","wrap","_callee$","_context","prev","next","get","sent","data","console","log","t0","stop","apply","arguments","children","src","alt","username","to","onClick"],"sources":["C:/Users/Taha/Desktop/MERN-todo-case-project/frontend/src/components/Navbar.tsx"],"sourcesContent":["\r\nimport styled from 'styled-components';\r\nimport { Link } from 'react-router-dom';\r\nimport { useState, useEffect } from 'react';\r\nimport instance from '../api/axiosInstance';\r\nimport logo from '../icons/logo.png';\r\nimport AddTodo from './AddTodo';\r\n\r\nconst Header = styled.header`\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  align-items: center;\r\n  padding: 15px 10%;\r\n  background-color: white;\r\n  border-bottom: 1px solid #e5e5e5;\r\n    box-shadow: 0px 0px 5px rgba(0, 0, 0, 0.1);\r\n`;\r\n\r\nconst Logo = styled.div`\r\n  margin-right: auto;\r\n  img {\r\n    width: 154px;\r\n    height: 36px;\r\n  }\r\n`;\r\n  \r\n\r\nconst NavLinks = styled.ul`\r\n  list-style: none;\r\n  display: flex;\r\n`;\r\n\r\nconst NavLink = styled.li`\r\n  padding: 0px 20px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n\r\n \r\n  a {\r\n    font-family: 'Montserrat', sans-serif;\r\n    font-weight: 500;\r\n\r\n    text-decoration: none;\r\n    transition: all 0.3s ease 0s;\r\n\r\n    &:hover {\r\n      color: #0088a9;\r\n    }\r\n  }\r\n`;\r\n\r\n\r\n\r\n\r\n\r\n\r\nconst Navbar = () => {\r\n\r\n  const token = localStorage.getItem('token');\r\n\r\n\r\n  const logout = () => {\r\n    localStorage.removeItem('token');\r\n    window.location.reload();\r\n\r\n  };\r\n\r\n  const [user, setUser] = useState<any>(null);\r\n\r\n\r\n  useEffect(() => {\r\n   \r\n    const fetchUser = async () => {\r\n\r\n       try {\r\n         const res = await instance.get('/profile')\r\n         setUser(res.data.user)\r\n         console.log(res.data.user)\r\n       } catch (error) {\r\n            console.log(error)\r\n\r\n       }\r\n    }\r\n\r\n     fetchUser();\r\n     console.log(user)\r\n\r\n\r\n  }, [\r\n    \r\n  ]);\r\n\r\n\r\n\r\n\r\n\r\n  return (\r\n    <Header>\r\n      <Logo>\r\n        <img src={logo} alt=\"logo\" />\r\n      </Logo>\r\n      <NavLinks>\r\n        {user && user.username ? (\r\n          <>\r\n              <NavLink>\r\n                <AddTodo />\r\n            </NavLink>\r\n            <NavLink >\r\n              <Link to=\"/profile\">{user.username}</Link>\r\n            </NavLink>\r\n            <NavLink >\r\n              <Link to=\"/logout\" onClick={logout}>Çıkış</Link>\r\n            </NavLink>\r\n        \r\n\r\n          </>\r\n        ) : (\r\n          <>\r\n            <NavLink>\r\n              <Link to=\"/login\">Giriş</Link>\r\n            </NavLink>\r\n            <NavLink>\r\n                <Link to=\"/register\">Kayıt</Link>\r\n            </NavLink>\r\n            <NavLink>\r\n                <Link to=\"/profile\">Profil</Link>\r\n            </NavLink>\r\n          </>\r\n        )}\r\n      </NavLinks>\r\n    \r\n      \r\n    </Header>\r\n  );\r\n};\r\n\r\nexport default Navbar;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}